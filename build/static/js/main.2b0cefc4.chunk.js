(this["webpackJsonpspooncular-search"]=this["webpackJsonpspooncular-search"]||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(73),o=a.n(c),s=(a(94),a(74)),l=a(75),i=a(82),u=a(81),h=a(137),d=a(129),g=a(139),j=a(130),b=a(131),p=a(132),S=a(138),f=a(134),O=a(135),m=a(136),v=a(140),x=a(76),y=a.n(x),C=a(8),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:"",data:[],baseUrl:"",showMenu:!1},e.handleQuery=function(){var t=e.getFromLocalStorage(e.state.query);t.length?e.setState({data:t}):e.searchInSpooncular()},e.storeInLocalStorage=function(t,a){var r=(new Date).getTime()/1e3,n=Object.assign({},{results:a,created:r});Object.keys(localStorage).length>=10&&e.removeOldestStoredResults(),localStorage.setItem(t,JSON.stringify(n))},e.getFromLocalStorage=function(e){var t=JSON.parse(localStorage.getItem(e))||{};return t.length?t:[]},e.setFromLocalStorage=function(t){var a=JSON.parse(localStorage.getItem(t))||{};e.setState({data:null===a||void 0===a?void 0:a.results})},e.handleTextSearchChange=function(t){e.setState({query:t.target.value})},e.firstLetterToUpperCase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},e}return Object(l.a)(a,[{key:"searchInSpooncular",value:function(){var e=this;y.a.get("https://api.spoonacular.com/food/ingredients/search?apiKey=27abea2449fa44a398beafe2c390d86d&query=".concat(this.state.query,"&number=5")).then((function(t){e.setState({data:t.data.results,baseUrl:t.baseUrl,query:""},e.storeInLocalStorage(e.state.query,t.data.results))})).catch((function(e){console.error(e.response.data)}))}},{key:"removeOldestStoredResults",value:function(){var e=Object.keys(localStorage)||[],t=e[0];e.forEach((function(e,a){var r=localStorage.getItem(e);t.created>r.created&&(t=e)})),localStorage.removeItem(t)}},{key:"render",value:function(){var e=this,t=Object.keys(localStorage)||[],a=this.state.data||[];return Object(C.jsx)(h.a,{children:Object(C.jsxs)(d.a,{p:4,children:[Object(C.jsxs)(g.a,{spacing:4,as:j.a,maxW:"3xl",textAlign:"center",children:[Object(C.jsx)(b.a,{fontSize:"3xl",children:"Spooncular API Search"}),Object(C.jsx)(p.a,{placeholder:"Please type query",onChange:this.handleTextSearchChange}),Object(C.jsx)(S.a,{variantcolor:"teal",onClick:this.handleQuery,children:Object(C.jsx)(v.a,{children:"Search"})}),Object(C.jsxs)(j.a,{mt:6,children:[Object(C.jsx)(b.a,{fontSize:"3xl",children:"Stored Results"}),Object(C.jsx)(f.a,{onClick:function(t){return e.setFromLocalStorage(t.target.value)},placeholder:"Select from stored results",children:t.map((function(t){return Object(C.jsx)("option",{value:t,children:e.firstLetterToUpperCase(t)},t)}))})]})]}),Object(C.jsx)(j.a,{maxW:"6xl",mt:10,children:Object(C.jsx)(O.a,{columns:{base:1,md:2,lg:4},spacing:10,children:a.length?this.state.data.map((function(e){return Object(C.jsx)(O.b,{align:"top",children:Object(C.jsx)(m.a,{fontWeight:600,children:e.name})},e.id)})):null})})]})})}}]),a}(n.a.Component),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)}))};o.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(I,{})}),document.getElementById("root")),k()},94:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.2b0cefc4.chunk.js.map